(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{222:function(e,t,a){e.exports=a(369)},230:function(e,t,a){},369:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),l=a.n(c),o=a(27),i=a(29),s=(a(230),a(231),a(44)),u=a(45),m=a(48),p=a(46),d=a(49),h=a(66),E=a(376),b=a(388),f=a(389),g=a(210),y=a(378),O=a(390),C=a(112),v=a(384),j=a(380),T=a(379),A=function(e){var t=e.input,a=e.width,n=e.type,c=e.placeholder,l=e.meta,o=l.touched,i=l.error;return r.a.createElement(y.a.Field,{error:o&&!!i,width:a},r.a.createElement("input",Object.assign({},t,{placeholder:c,type:n})),o&&i&&r.a.createElement(C.a,{basic:!0,color:"red"},i))},I=a(21),N=a.n(I),S=a(34),w={login:function(e,t){return function(){var a=Object(S.a)(N.a.mark(function a(n,r){var c,l;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"ASYNC_ACTION_START"}),a.next=4,fetch("/api/v3/merchant/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});case 4:return c=a.sent,a.next=7,c.json();case 7:l=a.sent,localStorage.setItem("access_token",l.token),n({type:"LOGIN_USER",payload:{body:l}}),t.push("dashboard"),n({type:"ASYNC_ACTION_FINISH"}),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),n({type:"ASYNC_ACTION_ERROR"}),console.log(a.t0);case 18:case"end":return a.stop()}},a,null,[[0,14]])}));return function(e,t){return a.apply(this,arguments)}}()}},_=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.login,a=e.handleSubmit,n=e.error,c=e.history;return r.a.createElement(E.a,{className:"main"},r.a.createElement(b.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(b.a.Column,{style:{maxWidth:450}},r.a.createElement(f.a,{as:"h2",color:"red",textAlign:"center"},r.a.createElement(g.a,{style:{height:"80px",width:"250px"},src:"assets/financial-house-logo.png"})),r.a.createElement(y.a,{error:!0,size:"large",onSubmit:a(function(){return t(c)})},r.a.createElement(O.a,null,r.a.createElement("h2",null,"Log-in to your account"),r.a.createElement(j.a,{name:"email",component:A,type:"text",placeholder:"Email Address"}),r.a.createElement(j.a,{name:"password",component:A,type:"password",placeholder:"password"}),n&&r.a.createElement(C.a,{basic:!0,color:"red"},n),r.a.createElement(v.a,{fluid:!0,size:"large",color:"red",className:"btn-login"},"Login"))))))}}]),t}(n.Component),x=Object(h.f)(Object(o.b)(null,w)(Object(T.a)({form:"loginForm"})(_))),k=a(385);var R,F,D=function(){return r.a.createElement(k.a,null,r.a.createElement(k.a.Item,null,r.a.createElement(g.a,{src:"/assets/financial-house-logo.png",style:{width:"150px"}})),r.a.createElement(k.a.Item,{as:i.c,to:"/dashboard/transactions"},"Transactions"),r.a.createElement(k.a.Item,{position:"right",as:i.c,to:"/login"},"Logout"))},Y=a(78),H=a(381),L=a(383),P=a(377),W=function(e){var t=e.inverted;return r.a.createElement(L.a,{inverted:t,active:!0},r.a.createElement(P.a,{content:"Loading data, please wait..."}))},J={getClientDetail:function(e){return function(){var t=Object(S.a)(N.a.mark(function t(a,n){var r,c;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ASYNC_ACTION_START"}),t.next=4,fetch("/api/v3/client",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("access_token")},body:JSON.stringify({transactionId:e})});case 4:return r=t.sent,t.next=7,r.json();case 7:c=t.sent,a({type:"FETCH_CLIENT",payload:{body:c}}),a({type:"ASYNC_ACTION_FINISH"}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"ASYNC_ACTION_ERROR"}),console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e,a){return t.apply(this,arguments)}}()}},M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={client:{},loading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.props.getClientDetail(t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){this.setState({client:e.client.customerInfo,loading:e.loading})}},{key:"render",value:function(){var e=this.state,t=e.client,a=e.loading;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(W,{inverted:!0}),r.a.createElement(b.a,{centered:!0},r.a.createElement(b.a.Column,{width:14},r.a.createElement(f.a,{as:"h2"},r.a.createElement(Y.a,{name:"list"}),r.a.createElement(f.a.Content,null,"Client Details",r.a.createElement(f.a.Subheader,null,"You can see client details here."))),r.a.createElement(O.a,null,r.a.createElement(H.a.Group,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Content,{verticalAlign:"bottom"},r.a.createElement(f.a,{as:"h1"},t.billingFirstName," ",t.billingLastName),r.a.createElement("br",null),r.a.createElement(f.a,{as:"h3"},t.email),r.a.createElement("br",null),r.a.createElement(f.a,{as:"h3"},t.billingState)))))),r.a.createElement(b.a.Column,{width:14},r.a.createElement(O.a,null,r.a.createElement(b.a,{columns:2},r.a.createElement(b.a.Column,{width:8},r.a.createElement(f.a,{icon:"shipping",content:"Shipping Details"}),r.a.createElement("p",null,"Address: ",r.a.createElement("strong",null,t.shippingAddress1," ",t.shippingAddress2)),r.a.createElement("p",null,"Shipping City ",r.a.createElement("strong",null,t.shippingCity)),r.a.createElement("p",null,"Shipping Country: ",r.a.createElement("strong",null,t.shippingCountry)),r.a.createElement("p",null,"Shipping Post Code: ",r.a.createElement("strong",null,t.shippingPostcode))),r.a.createElement(b.a.Column,{width:8},r.a.createElement(f.a,{icon:"payment",content:"Card Details"}),r.a.createElement("p",null,"Card number: ",r.a.createElement("strong",null,t.number)),r.a.createElement("p",null,"Expiry Month: ",r.a.createElement("strong",null,t.expiryMonth)),r.a.createElement("p",null,"Expiry Year: ",r.a.createElement("strong",null,t.expiryYear))))))))}}]),t}(n.Component),z=Object(h.f)(Object(o.b)(function(e){return{client:e.dashboard.currentClient}},J)(M)),G=a(382),U={fetchTransaction:function(){return function(){var e=Object(S.a)(N.a.mark(function e(t,a){var n,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ASYNC_ACTION_START"}),e.next=4,fetch("/api/v3/transaction/list",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("access_token")},body:JSON.stringify({fromDate:"2011-07-01",toDate:"2019-08-01"})});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t({type:"FETCH_TRANSACTIONS",payload:{body:r}}),t({type:"ASYNC_ACTION_FINISH"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"ASYNC_ACTION_ERROR"}),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}()}},B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={transactions:[],loading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchTransaction();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){this.setState({transactions:e.transactions,loading:e.loading})}},{key:"render",value:function(){var e=this.state,t=e.transactions,a=e.loading;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(W,{inverted:!0}),r.a.createElement(b.a,{centered:!0},r.a.createElement(b.a.Column,{width:14},r.a.createElement(G.a,{celled:!0},r.a.createElement(G.a.Header,null,r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,null,"Client Name"),r.a.createElement(G.a.HeaderCell,null,"Transaction Id"),r.a.createElement(G.a.HeaderCell,null,"Converted Amount"),r.a.createElement(G.a.HeaderCell,null,"Currency"))),r.a.createElement(G.a.Body,null,t.length>0&&t.map(function(e,t){return r.a.createElement(G.a.Row,{key:t},r.a.createElement(G.a.Cell,null,r.a.createElement(i.b,{to:"/dashboard/client-detail/".concat(e.transaction.merchant.transactionId)},e.customerInfo.billingFirstName," ",e.customerInfo.billingLastName)),r.a.createElement(G.a.Cell,null,r.a.createElement(i.b,{to:"/dashboard/transaction-detail/".concat(e.transaction.merchant.transactionId)},e.transaction.merchant.transactionId)),r.a.createElement(G.a.Cell,null,e.fx.merchant.convertedAmount),r.a.createElement(G.a.Cell,null,e.fx.merchant.convertedCurrency))}))))))}}]),t}(n.Component),$=Object(o.b)(function(e){return{transactions:e.dashboard.transactions,loading:e.async.loading}},U)(B),q={getTransactionDetail:function(e){return function(){var t=Object(S.a)(N.a.mark(function t(a,n){var r,c;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ASYNC_ACTION_START"}),t.next=4,fetch("/api/v3/transaction",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("access_token")},body:JSON.stringify({transactionId:e})});case 4:return r=t.sent,t.next=7,r.json();case 7:c=t.sent,a({type:"FETCH_TRANSACTION_DETAIL",payload:{body:c}}),a({type:"ASYNC_ACTION_FINISH"}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"ASYNC_ACTION_ERROR"}),console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e,a){return t.apply(this,arguments)}}()}},K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={transaction:{},loading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.props.getTransactionDetail(t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){this.setState({transaction:e.transaction,loading:e.loading})}},{key:"render",value:function(){var e=this.state,t=e.transaction,a=e.loading;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(W,{inverted:!0}),r.a.createElement(b.a,{centered:!0},r.a.createElement(b.a.Column,{width:14},r.a.createElement(f.a,{as:"h2"},r.a.createElement(Y.a,{name:"list"}),r.a.createElement(f.a.Content,null,"Transaction Details",r.a.createElement(f.a.Subheader,null,"You can see transaction details here."))),r.a.createElement(O.a,null,r.a.createElement(H.a.Group,null,t.customerInfo&&r.a.createElement(H.a,null,r.a.createElement(H.a.Content,{verticalAlign:"bottom"},r.a.createElement(f.a,{as:"h1"},t.customerInfo.billingFirstName," ",t.customerInfo.billingLastName),r.a.createElement("br",null),r.a.createElement(f.a,{as:"h3"},t.customerInfo.email),r.a.createElement("br",null),r.a.createElement(f.a,{as:"h3"},t.customerInfo.billingState)))))),r.a.createElement(b.a.Column,{width:14},r.a.createElement(O.a,null,r.a.createElement(b.a,{columns:2},t.transaction&&r.a.createElement(b.a.Column,{width:8},r.a.createElement(f.a,{icon:"list",content:"Transaction Details"}),r.a.createElement("p",null,"Transaction Id: ",r.a.createElement("strong",null,t.transaction.merchant.transactionId)),r.a.createElement("p",null,"Fx TransactionId: ",r.a.createElement("strong",null,t.transaction.merchant.fxTransactionId)),r.a.createElement("p",null,"ReferenceNo: ",r.a.createElement("strong",null,t.transaction.merchant.referenceNo)),r.a.createElement("p",null,"Operation: ",r.a.createElement("strong",null,t.transaction.merchant.operation)),r.a.createElement("p",null,"Status: ",r.a.createElement("strong",null,t.transaction.merchant.status)),r.a.createElement("p",null,"Type: ",r.a.createElement("strong",null,t.transaction.merchant.type))),t.fx&&r.a.createElement(b.a.Column,{width:8},r.a.createElement(f.a,{content:"Fx Details"}),r.a.createElement("p",null,"Original Amount: ",r.a.createElement("strong",null,t.fx.merchant.originalAmount)),r.a.createElement("p",null,"Original Currency: ",r.a.createElement("strong",null,t.fx.merchant.originalCurrency))))))))}}]),t}(n.Component),Q=Object(h.f)(Object(o.b)(function(e){return{transaction:e.dashboard.currentTransaction}},q)(K)),V=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{stackable:!0,centered:!0},r.a.createElement(b.a.Column,{width:16},r.a.createElement(D,null))),r.a.createElement(h.d,null,r.a.createElement(h.a,{exact:!0,from:"/dashboard",to:"dashboard/home"}),r.a.createElement(h.b,{path:"/dashboard/home",render:function(){return r.a.createElement($,null)}}),r.a.createElement(h.b,{path:"/dashboard/client-detail/:id",component:z}),r.a.createElement(h.b,{path:"/dashboard/transaction-detail/:id",component:Q}),r.a.createElement(h.b,{path:"/dashboard/transactions",render:function(){return r.a.createElement($,null)}})))},X=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:x})),r.a.createElement(h.b,{path:"/(.+)",render:function(){return r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/login",component:x}),r.a.createElement(h.b,{path:"/dashboard",component:V})))}}))}}]),t}(n.Component),Z=Object(h.f)(X),ee=a(18),te=a(386),ae=a(35),ne=a(51),re=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,r=n.type,c=n.payload,l=t[r];return l?l(a,c):a}},ce=re({currentUser:{token:localStorage.getItem("access_token")},authenticated:!1},Object(ae.a)({},"LOGIN_USER",function(e,t){return Object(ne.a)({},e,{authenticated:!0,currentUser:t.body})})),le=re({loading:!1},(R={},Object(ae.a)(R,"ASYNC_ACTION_START",function(e){return Object(ne.a)({},e,{loading:!0})}),Object(ae.a)(R,"ASYNC_ACTION_FINISH",function(e){return Object(ne.a)({},e,{loading:!1})}),Object(ae.a)(R,"ASYNC_ACTION_ERROR",function(e){return Object(ne.a)({},e,{loading:!1})}),R)),oe=re({transactions:[],client:{},transactionDetail:{}},(F={},Object(ae.a)(F,"FETCH_TRANSACTIONS",function(e,t){return Object(ne.a)({},e,{transactions:t.body.data})}),Object(ae.a)(F,"FETCH_CLIENT",function(e,t){return Object(ne.a)({},e,{currentClient:t.body})}),Object(ae.a)(F,"FETCH_TRANSACTION_DETAIL",function(e,t){return Object(ne.a)({},e,{currentTransaction:t.body})}),F)),ie=Object(ee.combineReducers)({form:te.a,auth:ce,async:le,dashboard:oe}),se=a(208),ue=a(209);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=function(e){var t=[ue.a],a=[ee.applyMiddleware.apply(void 0,t)],n=se.composeWithDevTools.apply(void 0,a);return Object(ee.createStore)(ie,e,n)}(),pe=document.getElementById("root");l.a.render(r.a.createElement(o.a,{store:me},r.a.createElement(i.a,null,r.a.createElement(Z,null))),pe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[222,1,2]]]);
//# sourceMappingURL=main.8764d65d.chunk.js.map